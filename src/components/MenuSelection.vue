<template>
     <div class="menu p-2 d-flex flex-column h-100">
        <button 
            :class="{ buttonSelected: selectedButtonId === 1 }"
            @click="selectButton(1)" id="mpButton" class="mb-3 active" type="submit" 
            data-toggle="tooltip" data-trigger="hover" data-placement="right" title="Messages privÃ©s">
                <i class="bi bi-discord"></i>
        </button>
        <button id="serverButton" 
            :class="{ buttonSelected: selectedButtonId === 2 }"
            @click="selectButton(2)"
            data-toggle="tooltip" data-trigger="hover" data-placement="right" title="Serveur principal">
        </button>
    </div>
</template>


<script>
import { mapGetters, mapMutations } from 'vuex'

export default {
  computed: {
    ...mapGetters(['selectedButtonId'])
  },
  methods: {
    ...mapMutations(['setSelectedButtonId']),
    selectButton(id) {
      this.setSelectedButtonId(id)
      localStorage.setItem('selectedButtonId', id)
    }
  }
}
</script>

<style scoped>
.menu{
    width: fit-content;
    background-color: #1e1f22;
}

button{
    background-color: #2f3136;
    font-size: 30px;
    width: 50px;
    height: 50px;
    border: 0;
    border-radius: 30px;
    color: #dcddde;
    transition: 0.5s;
    position: relative;
}

.buttonSelected,
button:hover{
    border-radius: 12px;
    transition: 0.2s;
    cursor:pointer;
}

button:active{
    top: 1px;
}

button:active,:focus{
    outline: none;
    box-shadow: none;
  }


button:hover:first-child{
    background-color: #4752c4;
}

#serverButton{
    background-image: url("../assets/Pierre_Pujos.jpg");
    background-position: center;
    background-size: cover;
}
</style>